### Ручная регистрация раздела (обходное решение)

**Задача**

Как зарегистрировать раздел на уровне БД если в интерфейсе он не отображается? Используется русская локализация

**Решение**
В данной статье представлен минимум при котором раздел должен работать корректно.
Если в таблицах **SysModuleEntity**, **SysModuleEdit** и **SysModule** отсутствует информация об новом разделе, то поступаем в следующем порядке:

------------


- I Этап. Создать запись в таблице **SysModuleEntity** (таблица, где хранится информация объектах разделов):


**SysModuleEntity**
```sql
insert into SysModuleEntity (SysEntitySchemaUId) values ('AF6DD4AD-1398-4FCE-8837-78DC65AE0F9E')
```
где  [SysEntitySchemaUId] - колонка Uid объекта раздела (например, "UsrRK") в таблице **SysSchema**;

------------


- II Этап. Создать запись в таблице SysModuleEdit (страница редактирования "Page"):
 

**SysModuleEdit**
```sql
insert into SysModuleEdit (SysModuleEntityId
,UseModuleDetails
,CardSchemaUId
,ActionKindCaption
,ActionKindName
,PageCaption)
values ('8ED522AF-00E1-4595-AC13-643944B005B7'
,1
,'8B22D9BE-4BBC-4B50-80EA-AB6FBB604B7E'
,'Добавить'
,'UsrRK1Page'
,'Card schema: "RK"')
```

где  [SysModuleEntityId] - колонка Id записи таблицы **SysModuleEntity** из первого этапа. Проверка :
```sql
Select Id from SysModuleEntity Where SysEntitySchemaUId='AF6DD4AD-1398-4FCE-8837-78DC65AE0F9E')[CardSchemaUId]  
```
\- колонка Uid страницы редактирования объекта (например, "UsrRK1Page") в таблице **SysSchema**. Проверка :
```sql
Select Uid,Name from SysSchema where name like '%UsrRK%'
```
Нам необходима схема, которая называется "Название объекта + 1Page"
1. [*ActionKindCaption*] - Название кнопки в реестре раздела;
2. [*ActionKindName*] - Название схемы страницы редактирования;
3. [*PageCaption*] - Заголовок схемы страницы редактирования в таблице **SysSchema**
Проверка:
```sql
Select Uid,Name,Caption from SysSchema where name like '%UsrRK1Page%'
```

------------


- III Этап. Создать запись в таблице **SysModule** (страница раздела "Section"):
 
```sql
SysModule
insert into SysModule (Caption
,SysModuleEntityId
,FolderModeId
,GlobalSearchAvailable
,Code
,SectionModuleSchemaUId
,SectionSchemaUId
,CardModuleUid
,Image32Id) values (N'RK'
,'8ED522AF-00E1-4595-AC13-643944B005B7'
,'B659D704-3955-E011-981F-00155D043204'
,1
,'UsrRK'
,'DF58589E-26A6-44D1-B8D4-EDF1734D02B4'
,'B3D153C0-92EF-4A53-B868-9395C3E43516'
,'4E1670DC-10DB-4217-929A-669F906E5D75'
,'026742D9-390C-4778-BC46-9FA85C42677A')
```

где  
1. [Caption] - Название раздела (можно брать caption объекта раздела)
2. [SysModuleEntityId]  - колонка Id записи таблицы **SysModuleEntity** из первого этапа.
Проверка:
```sql
Select Id from SysModuleEntity Where SysEntitySchemaUId='AF6DD4AD-1398-4FCE-8837-78DC65AE0F9E'
```
1. [Code] - Название объекта раздела (на английском языке
1. [SectionModuleSchemaUId] - UId модуля SectionModuleV2 с помощью которой открывается схему раздела (Id для всех разделов одинаковый)
1. [SectionSchemaUId] - колонка Uid страницы раздела объекта (например, "UsrRK1Section") в таблице **SysSchema**.
Проверка:
```sql
Select Uid,Name,Caption from SysSchema where name like '%UsrRK%'
```
Нам необходима схема, которая называется "Название объекта + 1Section"
